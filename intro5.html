<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>O Último Fragmento</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background-color: black;
            color: white;
            font-family: 'Montserrat', sans-serif;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            position: relative; /* Necessário para o posicionamento absoluto funcionar bem */
        }

        .intro-line {
            font-size: 1.5rem; /* Texto um pouco maior */
            font-weight: 400;
            line-height: 1.4;
            width: 90%;
            max-width: 600px;
            text-align: center;
            
            /* O SEGREDO DA CENTRALIZAÇÃO */
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            
            opacity: 0;
            transition: opacity 1.5s ease;
            letter-spacing: 1px;
            margin: 0;
        }

        #start-diary-btn {
            /* Centralização do botão */
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);

            padding: 15px 35px;
            border: 1px solid rgba(255,255,255,0.4);
            background: transparent;
            color: white;
            border-radius: 30px;
            font-size: 0.9rem;
            cursor: pointer;
            opacity: 0;
            transition: all 1.5s ease;
            display: none;
            text-transform: uppercase;
            letter-spacing: 2px;
            white-space: nowrap; /* Evita que o texto do botão quebre */
        }

        #start-diary-btn:hover {
            background: rgba(255,255,255,0.1);
            border-color: white;
        }
    </style>
</head>
<body>

    <p class="intro-line" id="l1">Que isso, já está aqui?</p>
    <p class="intro-line" id="l2">Espero que esteja gostando.</p>
    <p class="intro-line" id="l3">Então vamos para o último jogo...</p>
    
    <button id="start-diary-btn" onclick="openDiary()">Abrir o Diário</button>

    <script>
        // Configuração do tempo de cada frase
        const lines = [
            { id: 'l1', duration: 3500 }, // Mais curto pois a frase é curta
            { id: 'l2', duration: 3500 },
            { id: 'l3', duration: 4000 }
        ];

        let delay = 500;

        window.onload = () => {
            lines.forEach((line, index) => {
                // Aparece o texto
                setTimeout(() => {
                    document.getElementById(line.id).style.opacity = "1";
                }, delay);

                // Desaparece o texto
                if (index < lines.length - 1) {
                    setTimeout(() => {
                        document.getElementById(line.id).style.opacity = "0";
                    }, delay + line.duration - 1000);
                } else {
                    // Após a última frase, ela some e o botão aparece
                    setTimeout(() => {
                        document.getElementById(line.id).style.opacity = "0";
                        setTimeout(() => {
                            const btn = document.getElementById('start-diary-btn');
                            btn.style.display = "block";
                            // Pequeno delay para a transição de opacidade funcionar
                            requestAnimationFrame(() => {
                                btn.style.opacity = "1";
                            });
                        }, 1000);
                    }, delay + line.duration);
                }
                delay += line.duration;
            });
        };

        function openDiary() {
            // Leva para o enigma5.html
            window.location.href = "enigma5.html";
        }
    </script>
</body>
</html>